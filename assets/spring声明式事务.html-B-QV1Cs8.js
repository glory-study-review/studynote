import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,d as t}from"./app-BhKC0Yx3.js";const p="/studynote/assets/image-20240418131646439-C4Yok89f.png",e="/studynote/assets/image-20240418135649270-BuJLeYq_.png",o="/studynote/assets/image-20240418135922261-CFsARQf6.png",c="/studynote/assets/image-20240418141241175-BIJLzXGO.png",i="/studynote/assets/image-20240418143924879-BqA7onUY.png",l="/studynote/assets/image-20240418145111006-D0hq5TM5.png",u="/studynote/assets/image-20240418150902836-Chg7X7VX.png",r="/studynote/assets/image-20240418150252044-DHx3BjWk.png",k="/studynote/assets/image-20240418151242985-BJC804Uj.png",d="/studynote/assets/image-20240418151729611-DoA2CK03.png",m="/studynote/assets/image-20240418152341645-BxB_gLMU.png",g="/studynote/assets/image-20240418152602637-BF3NCkpl.png",v="/studynote/assets/image-20240418161342349-zPbhEUX2.png",y="/studynote/assets/image-20240418162107965-ByBzLlk8.png",b="/studynote/assets/image-20240418164922781-w4rWtPzO.png",h="/studynote/assets/image-20240418164949537-Bnpra6bB.png",_="/studynote/assets/image-20240418165013492-DU3G9SBu.png",f="/studynote/assets/image-20240418165106392-Ck-yiTnT.png",T="/studynote/assets/image-20240418165136584-C1flzLn2.png",S="/studynote/assets/image-20240419112512894-CxmlD8li.png",z="/studynote/assets/image-20240419113317485-X9b-OuiN.png",w="/studynote/assets/image-20240419113547287-BFbsKhG8.png",x="/studynote/assets/image-20240419134726875-yZmhbyWp.png",B="/studynote/assets/image-20240419135155738--eJcLo66.png",E="/studynote/assets/image-20240419135433293-i8f-WRXd.png",M="/studynote/assets/image-20240419135448539-C3bpBklM.png",q="/studynote/assets/image-20240419135623745-3xcOoovp.png",C="/studynote/assets/image-20240419140431720-BHMIH9Mb.png",A="/studynote/assets/image-20240419140646786-iwJzEwVn.png",D="/studynote/assets/image-20240419141202858-R9MIgtWZ.png",N="/studynote/assets/image-20240419143313419-C02pMj2k.png",O="/studynote/assets/image-20240419153939135-jGvrIxCP.png",R="/studynote/assets/image-20240419154036754-D4lFOfOx.png",P={},U=t(`<h1 id="springå£°æ˜å¼äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#springå£°æ˜å¼äº‹åŠ¡"><span>Springå£°æ˜å¼äº‹åŠ¡</span></a></h1><h2 id="äº”ç§å¤±æ•ˆæƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#äº”ç§å¤±æ•ˆæƒ…å†µ"><span>äº”ç§å¤±æ•ˆæƒ…å†µ</span></a></h2><ol><li><p>ç±»æ²¡æœ‰è¢« Spring ç®¡ç†</p></li><li><p>æ–¹æ³•ä¸æ˜¯publicä¿®é¥°</p></li><li><p>å¼‚å¸¸è¢«æ•è·ï¼ˆäº‹åŠ¡é»˜è®¤åªåœ¨æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼‰</p></li><li><p>åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•å†…éƒ¨è°ƒç”¨</p><p>æ–¹æ³•å†…éƒ¨ä½¿ç”¨this.xxx()çš„æ–¹å¼è°ƒç”¨äº‹åŠ¡å­˜åœ¨äº‹åŠ¡çš„æ–¹æ³•ï¼› å¤±æ•ˆçš„æœ¬è´¨æ˜¯ï¼ŒthisæŒ‡çš„çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œäº‹åŠ¡æ˜¯ç”±AOPä»£ç†æ¥å®ç°çš„ï¼Œå¤„ç†äº‹åŠ¡çš„å¢å¼ºæ–¹æ³•éƒ½æ˜¯åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå› æ­¤ä½¿ç”¨thiså¯¹è±¡æœ¬èº«è°ƒç”¨æ–¹æ³•AOPä¼šå¤±æ•ˆã€‚ ä¸ºä»€ä¹ˆthisæŒ‡çš„æ˜¯å¯¹è±¡æœ¬èº«è€Œä¸æ˜¯ä»£ç†å¯¹è±¡å‘¢ï¼ŒåŸå› ï¼Œä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ—¶ï¼Œå¢å¼ºæ–¹æ³•åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œè€ŒåŸå¯¹è±¡æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨åŸå¯¹è±¡æ¥è°ƒç”¨çš„ï¼Œç”±åŸå¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ä¸­ä½¿ç”¨thisï¼ŒæŒ‡å‘çš„å½“ç„¶æ—¶åŸå¯¹è±¡ã€‚ è§£å†³ï¼Œä¸ç”¨thisè°ƒç”¨æœ¬ç±»ä¸­çš„æ–¹æ³•ï¼Œä»å®¹å™¨ä¸­è·å–beanå†è°ƒç”¨</p></li><li><p>MySQLå­˜å‚¨å¼•è­¦ä¸æ”¯æŒäº‹åŠ¡</p></li></ol><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_52423918/article/details/130806813" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_52423918/article/details/130806813</a></p><h2 id="ä¼ æ’­è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#ä¼ æ’­è¡Œä¸º"><span>ä¼ æ’­è¡Œä¸º</span></a></h2><p>äº‹åŠ¡åè°ƒå‘˜ï¼ˆå†…éƒ¨æ–¹æ³•ï¼‰å¯¹äº‹åŠ¡ç®¡ç†å‘˜ï¼ˆå¤–éƒ¨æ–¹æ³•ï¼‰æ˜¯å¦æºå¸¦äº‹åŠ¡è€Œè¿›è¡Œçš„å¤„ç†æ€åº¦</p><p>1.<strong><code>REQUIRED</code></strong></p><p>å½“å¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•äº‹åŠ¡å°†åŠ å…¥å¤–éƒ¨äº‹åŠ¡ï¼Œå†…éƒ¨äº‹åŠ¡äº§ç”Ÿå›æ»šæ—¶ï¼Œå¤–éƒ¨äº‹åŠ¡ä¹Ÿå›æ»š å½“å¤–éƒ¨æ–¹æ³•ä¸å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•äº‹åŠ¡å°±åˆ›å»ºè‡ªå·±çš„äº‹åŠ¡</p><p>2.<strong><code>REQUIRES_NEW</code></strong></p><p>å½“å¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•åˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„äº‹åŠ¡ï¼Œä¸å—å¤–éƒ¨äº‹åŠ¡å½±å“ å½“å¤–éƒ¨æ–¹æ³•ä¸å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•åˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„äº‹åŠ¡</p><p>3.<strong><code>NESTED</code></strong></p><p>å½“å¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•äº‹åŠ¡æˆä¸ºå¤–éƒ¨äº‹åŠ¡çš„åµŒå¥—å­äº‹åŠ¡ï¼Œå½“å†…éƒ¨äº‹åŠ¡å›æ»šæ—¶åªä¼šå›æ»šåˆ°å†…éƒ¨äº‹åŠ¡æ‰§è¡Œå‰çŠ¶æ€ å½“å¤–éƒ¨æ–¹æ³•ä¸å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•åˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„äº‹åŠ¡æ‰§è¡Œ</p><p>4.<strong><code>MANDATORY</code></strong></p><p>å½“å¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡ï¼Œå†…éƒ¨æ–¹æ³•äº‹åŠ¡åŠ å…¥</p><p>å½“å¤–éƒ¨æ–¹æ³•ä¸å­˜åœ¨äº‹åŠ¡æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸</p><p>5.<strong><code>SUPPORTS</code></strong></p><p>å½“å¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡ï¼Œå†…éƒ¨æ–¹æ³•äº‹åŠ¡åŠ å…¥ å½“å¤–éƒ¨æ–¹æ³•ä¸å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œå†…éƒ¨æ–¹æ³•å°±ä¸ä½¿ç”¨äº‹åŠ¡</p><p>6.<strong><code>NOT_SUPPORTED</code></strong></p><p>ä¸ç®¡å¤–éƒ¨æ–¹æ³•æ˜¯å¦æœ‰äº‹åŠ¡ï¼Œå†…éƒ¨æ–¹æ³•çš„äº‹åŠ¡éƒ½ä¸ç”Ÿæ•ˆï¼Œæ‰§è¡Œåˆ°å†…éƒ¨æ–¹æ³•æ—¶ï¼Œå¤–éƒ¨äº‹åŠ¡æŒ‚èµ·ç­‰å¾…å†…éƒ¨æ–¹æ³•æ‰§è¡Œ</p><p>7.<strong><code>NEVER</code></strong></p><p>æ€»æ˜¯éäº‹åŠ¡åœ°æ‰§è¡Œï¼Œå¦‚æœå¤–éƒ¨æ–¹æ³•å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p><h2 id="springäº‹åŠ¡æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#springäº‹åŠ¡æºç åˆ†æ"><span>Springäº‹åŠ¡æºç åˆ†æ</span></a></h2><p>springä½¿ç”¨AOPå®ç°å£°æ˜å¼äº‹åŠ¡ï¼Œå…¶ä¸­æ¶‰åŠåˆ°è®¸å¤šé…ç½®å’Œå±æ€§è¯»å–ï¼Œå¦‚äº‹åŠ¡ç®¡ç†å™¨ã€äº‹åŠ¡ä¼ æ’­è¡Œä¸ºç­‰å¾…ï¼›</p><p>æºç åˆ†æä¹‹å‰ï¼Œéœ€è¦æ˜ç¡®Springäº‹åŠ¡å¸®æˆ‘ä»¬åšäº†ä»€ä¹ˆï¼š</p><ul><li>ä»æ•°æ®æ± ä¸­è·å–æ•°æ®åº“è¿æ¥</li><li>å¼€å¯äº‹åŠ¡å¹¶è®¾ç½®æ‰‹åŠ¨æäº¤</li><li>è°ƒç”¨åŸæ–¹æ³•</li><li>æäº¤/å›æ»š äº‹åŠ¡</li></ul><p>æ­¤å¤„æš‚æ—¶ç ”ç©¶springäº‹åŠ¡çš„åˆ›å»ºã€æäº¤ã€å›æ»šç›¸å…³æ‰§è¡Œæµç¨‹</p><p>æ¡ˆä¾‹</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Dept</span> dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dept<span class="token punctuation">.</span><span class="token function">setDeptName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deptService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">B</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        b<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setNickName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ‘‡å½“æ‰§è¡Œ a()æ–¹æ³•æ—¶ï¼ŒAOPä»£ç†ä¸­ä¼šè°ƒç”¨TransactionInterceptorç±»ä¸­çš„invokeæ–¹æ³•ï¼Œæ ¸å¿ƒåœ¨å…¶çˆ¶ç±»çš„invokeWithinTransactionæ–¹æ³•ä¸­ï¼ŒåŒ…å«äº†æ•´ä¸ªäº‹åŠ¡å¤„ç†çš„è¿‡ç¨‹</p><p><img src="`+p+'" alt="" loading="lazy"></p><p><img src="'+e+'" alt="" loading="lazy"></p><p><img src="'+o+'" alt="" loading="lazy"></p><p>ğŸ‘‡æ¥çœ‹ä¸€ä¸‹äº‹åŠ¡å¼€å¯åšäº†ä»€ä¹ˆï¼ŒcreateTransactionIfNecessary</p><p><img src="'+c+'" alt="" loading="lazy"></p><p>å¼€å¯äº‹åŠ¡çš„å…·ä½“å¤„ç†ç”±äº‹åŠ¡ç®¡ç†å™¨çš„æŠ½è±¡ç±»(AbstractPlatformTransactionManager)å®šä¹‰ï¼Œä½¿ç”¨getTransactionæ¨¡æ¿æ–¹æ³•ï¼Œä¼ å…¥äº‹åŠ¡å±æ€§</p><p><img src="'+i+'" alt="" loading="lazy"></p><p>doGetTransaction è¿”å›ä¸€ä¸ªäº‹åŠ¡å¯¹è±¡ ç”±å…·ä½“çš„äº‹åŠ¡ç®¡ç†å™¨å®ç°ç±»å®ç° ä¸€èˆ¬ä¸ºDataSourceTransactionManager</p><p><img src="'+l+'" alt="" loading="lazy"></p><p>ä»äº‹åŠ¡åŒæ­¥ç®¡ç†å™¨ä¸­è·å–æ•°æ®åº“è¿æ¥èµ„æºï¼Œè¯¥èµ„æºæ˜¯é€šè¿‡ThreadLocalä¸çº¿ç¨‹ç»‘å®šçš„ï¼ŒTransactionSynchronizationManagerä¿å­˜ç€å½“å‰çº¿ç¨‹äº‹åŠ¡ä¸­çš„äº‹åŠ¡èµ„æºå’Œä¸€äº›äº‹åŠ¡ä¿¡æ¯(å¦‚å½“å‰äº‹åŠ¡çš„åç§°ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ç­‰)ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼ŒTransactionSynchronizationManagerä¸­å¹¶ä¸å­˜åœ¨èµ„æºï¼ŒConnectionHolderä¸ºnull</p><p>åˆ›å»ºä¸€ä¸ªäº‹åŠ¡å¯¹è±¡å­˜æ”¾å½“å‰äº‹åŠ¡çš„æ•°æ®è¿æ¥æŒæœ‰å¯¹è±¡ å’Œ æ˜¯å¦ä¸ºæ–°æŒæœ‰å¯¹è±¡çš„æ ‡è¯†ï¼Œåç»­é€šè¿‡è¯¥æ•°æ®æŒæœ‰å¯¹è±¡è·å–è¿æ¥ã€‚</p><p>å›åˆ°<code>getTransaction</code>ç»§ç»­æ‰§è¡Œï¼Œ<code>isExistingTransaction</code>åˆ¤æ–­å½“å‰æ˜¯å¦å·²å­˜åœ¨äº‹åŠ¡ï¼Œåˆ†æ”¯å†…æ˜¯å¯¹äºå­äº‹åŠ¡å¦‚ä½•å¤„ç†çš„å…¥å£</p><p>DataSourceTransactionManager çš„ isExistingTransaction</p><p><img src="'+u+'" alt="" loading="lazy"></p><p><img src="'+r+'" alt="" loading="lazy"></p><p>é€šè¿‡æŸ¥çœ‹äº‹åŠ¡å¯¹è±¡æ˜¯å¦å­˜åœ¨æ•°æ®è¿æ¥æŒæœ‰å¯¹è±¡ æ•°æ®è¿æ¥æ˜¯å¦å­˜åœ¨æ´»åŠ¨äº‹åŠ¡æ ‡å¿—ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨äº‹åŠ¡ï¼›å£°æ˜å¼äº‹åŠ¡æ–¹æ³•ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œæ¡ä»¶æ˜¾ç„¶ä¸æˆç«‹ï¼›</p><p>ç»§ç»­æ‰§è¡Œ</p><p><img src="'+k+'" alt="" loading="lazy"></p><p>é€šè¿‡å¯¹äº‹åŠ¡å±æ€§ä¸­çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºåˆ¤æ–­ï¼Œä¸‰ä¸ªå¸¸ç”¨çš„ä¼ æ’­è¡Œä¸ºï¼Œè°ƒç”¨startTransaction å¼€å¯äº‹åŠ¡</p><p><img src="'+d+'" alt="" loading="lazy"></p><p>è¯¥æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªäº‹åŠ¡çŠ¶æ€å¯¹è±¡ï¼Œä¿å­˜ç€å½“å‰äº‹åŠ¡çš„å±æ€§ï¼Œäº‹åŠ¡å¯¹è±¡ï¼Œæ˜¯å¦ä¸ºæ–°äº‹ç‰©ç­‰ç­‰ä¿¡æ¯ï¼Œç”¨äºåç»­äº‹åŠ¡å¤„ç†çš„ï¼›</p><p>ç»§ç»­æ‰§è¡Œåˆ° çš„ <code>doBegin</code>ï¼Œç”±äº‹åŠ¡ç®¡ç†å™¨å®ç°ç±»å®ç°</p><p>æ­¤å¤„æ˜¯DataSourceTransactionManagerçš„å®ç°</p><p><img src="'+m+'" alt="" loading="lazy"></p><p><img src="'+g+'" alt="" loading="lazy"></p><p>ä¼šä»æ•°æ®æ± ä¸­è·å–è¿æ¥ï¼Œå¹¶å°†è¿æ¥æŒæœ‰å¯¹è±¡å­˜å…¥åˆ°äº‹åŠ¡å¯¹è±¡ä¸­ï¼Œè®¾ç½®æ–°æŒæœ‰å¯¹è±¡çŠ¶æ€ä¸ºtrueï¼Œç„¶åå°†è¿æ¥è®¾ä¸ºäº‹åŠ¡æ‰‹åŠ¨æäº¤ï¼›è¿æ¥æŒæœ‰å¯¹è±¡æ´»åŠ¨äº‹åŠ¡æ ‡å¿—è®¾ä¸Šï¼Œä¿è¯å‰é¢åˆ¤æ–­å·²å­˜åœ¨äº‹åŠ¡çš„æ­£ç¡®æ€§ï¼›ç”±äºæ˜¯æ–°æŒæœ‰å¯¹è±¡ï¼Œå¯æ‰§è¡ŒTransactionSynchronizationManagerçš„ç»‘å®šæ“ä½œï¼Œè¿™å°±ä¿è¯äº†ï¼Œå­äº‹åŠ¡åœ¨å¼€å¯çš„è¿‡ç¨‹ä¸­doGetTransaction()æ–¹æ³•ä¸­èƒ½å¤Ÿè·å–åŒä¸€æŒæœ‰å¯¹è±¡ã€‚</p><p>å›åˆ°startTransactionï¼Œç»§ç»­æ‰§è¡ŒprepareSynchronizationæ–¹æ³•ï¼Œå°†å½“å‰äº‹åŠ¡çš„çŠ¶æ€(å¦‚ï¼šå½“å‰äº‹åŠ¡å¼€å¯çŠ¶æ€ã€æ¿€æ´»çŠ¶æ€ã€éš”ç¦»çº§åˆ«)ã€åˆå§‹åŒ–äº‹åŠ¡åŒæ­¥å›è°ƒå†…å®¹ï¼Œå­˜æ”¾çš„æ˜¯å½“å‰éœ€è¦æ“ä½œçš„äº‹åŠ¡ä¿¡æ¯ã€‚</p><p><img src="'+v+'" alt="" loading="lazy"></p><p>è‡³æ­¤å¼€å¯äº‹åŠ¡ç»“æŸï¼Œè¿”å›äº‹åŠ¡çŠ¶æ€å¯¹è±¡ï¼Œå›åˆ°<code>invokeWithinTransaction</code>æ‰§è¡Œå¸¦ä»£ç†çš„åŸæ–¹æ³•</p><p><img src="'+y+'" alt="" loading="lazy"></p><p>å¦‚æœå½“å‰æ–¹æ³•ä¸­æ²¡æœ‰è°ƒç”¨å…¶ä»–å­˜åœ¨äº‹åŠ¡çš„æ–¹æ³•ï¼Œé‚£ä¹ˆåŸæ–¹æ³•è°ƒç”¨å®Œæˆåï¼Œç›´æ¥å›æ»šæˆ–è€…æäº¤</p><p>å…ˆçœ‹çœ‹æäº¤</p><p><img src="'+b+'" alt="" loading="lazy"></p><p><img src="'+h+'" alt="" loading="lazy"></p><p><img src="'+_+'" alt="" loading="lazy"></p><p><img src="'+f+'" alt="" loading="lazy"></p><p><img src="'+T+'" alt="" loading="lazy"></p><p>æäº¤ç”±äº‹åŠ¡ç®¡ç†å™¨æŠ½è±¡ç±»æä¾›æ¨¡æ¿æ–¹æ³•ï¼Œå…¶ä¸­triggerBeforeCommit(status)å’ŒtriggerBeforeCompletion(status);æ–¹æ³•æ˜¯é€šè¿‡è·å–TransactionSynchronizationManagerä¸­é…ç½®çš„äº‹åŠ¡æäº¤å‰æ‰§è¡Œæ–¹æ³•ï¼Œè¿›è¡Œäº‹åŠ¡æäº¤å‰çš„å‰ç½®æ“ä½œï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®æƒ…å†µåœ¨TransactionSynchronizationManagerä¸­æ³¨å†Œäº‹åŠ¡å‰ç½®å’Œåç½®æ–¹æ³•ã€‚</p><p>äº‹åŠ¡ç®¡ç†å™¨çš„æäº¤æ–¹æ³•å…¶å®å°±æ˜¯è·å–å­˜å‚¨çš„äº‹åŠ¡è¿æ¥å¯¹è±¡ï¼Œæ‰‹åŠ¨commitã€‚</p><p><img src="'+S+'" alt="" loading="lazy"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæäº¤ä¸€å®šè¦æ˜¯äº‹åŠ¡çŠ¶æ€ä¸ºæ–°äº‹åŠ¡æ—¶ï¼Œæ‰èƒ½æäº¤ï¼›</p><p>å›åˆ°æ¡ˆä¾‹ï¼Œå½“åŸæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œåˆæ‰§è¡Œäº†ä¸€ä¸ªå£°æ˜å¼äº‹åŠ¡æ–¹æ³•b.b();</p><p>æ­¤æ—¶é‡æ–°å¼€å§‹æ‰§è¡Œä¸Šé¢åˆ†æçš„äº‹åŠ¡å¼€å¯æ–¹æ³•ï¼Œåœ¨isExistingTransactionå¤„ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªäº‹åŠ¡å¼€å¯æ—¶å°†è¿æ¥æŒæœ‰å¯¹è±¡ä¸çº¿ç¨‹ç»‘å®šç”±TransactionSynchronizationManagerç®¡ç†ï¼Œæ­¤å¤„åˆ¤æ–­ä¸ºtrue,æ‰§è¡Œå¦ä¸€åˆ›å»ºäº‹åŠ¡çŠ¶æ€å¯¹è±¡çš„é€»è¾‘handleExistingTransaction</p><p><img src="'+z+'" alt="" loading="lazy"></p><p><img src="'+w+'" alt="" loading="lazy"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“åˆ¤æ–­å·²å­˜åœ¨äº‹åŠ¡æ—¶ï¼Œä¼šæ ¹æ®äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œæ¥æ‰§è¡Œä¸åŒçš„é€»è¾‘ï¼Œæ¡ˆä¾‹çš„å­äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯é»˜è®¤çš„PROPAGATION_REQUIREDèµ°æœ€åä¸€ä¸ªåˆ›å»ºäº‹åŠ¡çŠ¶æ€è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°<code>newTransaction</code>ï¼Œè®¾ç½®ä¸ºäº†false</p><p>æ‰€ä»¥å½“å­äº‹åŠ¡æ–¹æ³•ï¼Œæ‰§è¡Œåˆ°æäº¤æ“ä½œæ—¶ï¼Œå¹¶ä¸ä¼šèµ°æäº¤ï¼Œçˆ¶äº‹åŠ¡æ‰§è¡Œæäº¤æ—¶æ‰ä¼šçœŸæ­£æäº¤ã€‚</p><p>æ¥çœ‹çœ‹å›æ»š</p><p><img src="'+x+'" alt="" loading="lazy"></p><p>åŸæ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œè¿›å…¥å¤„ç†ï¼ˆå½“åŸæ–¹æ³•æ•è·äº†å¼‚å¸¸ä½†æ˜¯ä¸æŠ›å‡ºæ–°å¼‚å¸¸ï¼Œå°±ä¼šäº‹åŠ¡å¤±æ•ˆï¼‰</p><p><img src="'+B+'" alt="" loading="lazy"></p><p><img src="'+E+'" alt="" loading="lazy"></p><p><img src="'+M+'" alt="" loading="lazy"></p><p>ä¼šåˆ¤æ–­å½“å‰å¼‚å¸¸æ˜¯å¦æ˜¯å®šä¹‰çš„å¼‚å¸¸ï¼Œå¦‚æœæ³¨è§£æ²¡æœ‰å®šä¹‰å›æ»šå¼‚å¸¸ï¼Œå°±ä½¿ç”¨çˆ¶ç±»æ–¹æ³•åŒ¹å¯¹(åŒ¹å¯¹å¼‚å¸¸RuntimeExceptionæˆ–è€…Error)</p><p>åŒ¹å¯¹å¤±è´¥ç›´æ¥æ‰§è¡Œæäº¤çš„æ“ä½œï¼ŒåŒ¹å¯¹æˆåŠŸæ‰§è¡Œå›æ»šæ“ä½œï¼ˆ<mark>æ­¤å¤„å°±æ˜¯ä¸ºä»€ä¹ˆæ–¹æ³•ä¸­æŠ›å‡ºçš„å¼‚å¸¸ä¸å®šä¹‰çš„å›æ»šå¼‚å¸¸ä¸ä¸€è‡´æ—¶ï¼Œäº‹åŠ¡å¤±æ•ˆçš„åŸå› </mark>ï¼‰</p><p><img src="'+q+'" alt="" loading="lazy"></p><p><img src="'+C+'" alt="" loading="lazy"></p><p>å›æ»šä¸­ï¼Œå¯¹äº‹åŠ¡çŠ¶æ€åšäº†è®¸å¤šåˆ¤æ–­ï¼Œåœ¨æ¡ˆä¾‹çš„æƒ…å†µä¸‹ï¼Œå­äº‹åŠ¡åŠ å…¥çˆ¶äº‹åŠ¡æ²¡æœ‰å¼€å¯æ–°äº‹ç‰©ï¼Œstatus.isNewTransaction()ä¸ºfalse,å°±è¿›å…¥åˆ†æ”¯æ‰§è¡ŒdoSetRollbackOnlyï¼Œä¸ºäº‹åŠ¡çš„è¿æ¥æŒæœ‰å¯¹è±¡è®¾ç½®äº†ä¸€ä¸ªå›æ»šæ ‡è®°</p><p><img src="'+A+'" alt="" loading="lazy"></p><p><img src="'+D+'" alt="" loading="lazy"></p><p>æ‰€ä»¥å¦‚æœåŠ å…¥çˆ¶äº‹åŠ¡çš„å­äº‹åŠ¡æŠ›å‡ºäº†å¼‚å¸¸ï¼Œæ­¤æ—¶ä¸ç®¡çˆ¶äº‹åŠ¡çš„åŸæ–¹æ³•æ˜¯æ•è·äº†å¼‚å¸¸ï¼Œè¿˜æ˜¯æ­£å¸¸æŠ›å‡ºï¼Œäº‹åŠ¡éƒ½ä¼šå›æ»š</p><p>å¦‚æœçˆ¶äº‹åŠ¡çœŸæ­£æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£äº‹åŠ¡çŠ¶æ€ä¸­isNewTransactionä¸ºtrueï¼Œç›´æ¥å›æ»š</p><p>å¦‚æœçˆ¶äº‹åŠ¡å°†å­äº‹åŠ¡çš„å¼‚å¸¸æ•è·ä¸”æ²¡æœ‰æŠ›å‡ºæ–°å¼‚å¸¸ï¼Œé‚£çˆ¶äº‹åŠ¡å…¶å®ä¼šæ­£å¸¸è¿›å…¥æäº¤çš„æ“ä½œä½†æ˜¯æœ€åè¿˜æ˜¯ä¼šå›æ»šï¼Œé‚£ä¸ºä»€ä¹ˆå¼‚å¸¸è¢«æ•è·äº‹åŠ¡æ²¡æœ‰å¤±æ•ˆï¼Œæˆ‘ä»¬å›çœ‹æäº¤æ¨¡æ¿æ–¹æ³•ä¸­</p><p>åœ¨processCommitå‰å…¶å®è¿˜æœ‰åˆ¤æ–­</p><p>defStatus.isGlobalRollbackOnly() å…¶å®å°±æ˜¯åˆ¤æ–­ï¼Œå½“å‰è¿æ¥æŒæœ‰å¯¹è±¡ä¸­çš„å›æ»šæ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œå­äº‹åŠ¡ä¸­å°†å…¶ç½®ä¸ºtrueï¼Œå› æ­¤ï¼Œæœ€åè¿˜æ˜¯è¿›è¡Œäº†å›æ»š</p><p><img src="'+N+'" alt="" loading="lazy"></p><h2 id="å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†" tabindex="-1"><a class="header-anchor" href="#å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†"><span>å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†</span></a></h2><p>é€šè¿‡æºç åˆ†æï¼Œspringå¤„ç†äº‹åŠ¡çš„æ–¹å¼æœ¬è´¨å°±æ˜¯å¸®æˆ‘ä»¬è·å–æ•°æ®åº“è¿æ¥ï¼Œè°ƒç”¨æ•°æ®åº“è¿æ¥çš„æ‰‹åŠ¨æäº¤å’Œå›æ»šï¼›è€Œè·å–çš„æ•°æ®åº“è¿æ¥èµ„æºç»‘å®šåœ¨çº¿ç¨‹ä¸­ç”±TransactionSynchronizationManagerå¸®å¿™ç®¡ç†ï¼Œäº‹åŠ¡å…¶å®å°±æ˜¯åŒä¸€è¿æ¥ä¸­çš„æ•°æ®åº“æ“ä½œçš„ä¸€è‡´æ€§ï¼›å¤šçº¿ç¨‹ä¸‹springå£°æ˜å¼äº‹åŠ¡çš„å¤±æ•ˆåŸå› æ˜¯çº¿ç¨‹ä¹‹é—´çš„æ•°æ®éš”ç¦»ï¼Œä¹Ÿå°±æ˜¯å¤šçº¿ç¨‹ä¸‹è·å–çš„æ•°æ®åº“è¿æ¥éƒ½ä¸ä¸€è‡´äº†ï¼Œå°±è°ˆä¸ä¸Šäº‹åŠ¡äº†ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨Mybatisæ—¶ï¼Œmybatisåœ¨æ‰§è¡Œsqlå‰ä¼šä»TransactionSynchronizationManagerä¸­å–è·å–æ•°æ®åº“è¿æ¥</p><p><img src="'+O+'" alt="" loading="lazy"></p><p><img src="'+R+`" alt="" loading="lazy"></p><p>æ‰€ä»¥å¯ä»¥åœ¨å­çº¿ç¨‹è°ƒç”¨å¼€å¯äº‹åŠ¡çš„æ–¹æ³•ä¹‹å‰ï¼Œå°†ä¸»çº¿ç¨‹ä¸­è·å–åˆ°çš„æ•°æ®åº“è¿æ¥èµ„æºç»‘å®šåˆ°å­çº¿ç¨‹ä¸Šï¼Œå¹¶å°†å­çº¿ç¨‹çš„å¼‚å¸¸æ­£å¸¸æŠ›å‡ºï¼Œä¿è¯æ­£å¸¸å›æ»š</p><p>ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Transactional</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConnectionHolder</span> resource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConnectionHolder</span><span class="token punctuation">)</span> <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">getCurrentTransactionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å­çº¿ç¨‹1</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> future1 <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">bindResource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">,</span> resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Dept</span> dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dept<span class="token punctuation">.</span><span class="token function">setDeptName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> deptService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">whenComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> ex<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">unbindResource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å­çº¿ç¨‹2</span>
    <span class="token class-name">CompletableFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> future2 <span class="token operator">=</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">bindResource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">,</span> resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mutiplyThreadTranscationManager<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¼€å¯é»˜è®¤äº‹åŠ¡ä¼ æ’­è¡Œä¸º</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">whenComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> ex<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">unbindResource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span>future1<span class="token punctuation">,</span> future2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Supplier</span><span class="token punctuation">&gt;</span></span> tasks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Dept</span> dept1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dept1<span class="token punctuation">.</span><span class="token function">setDeptName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    deptService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>dept1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//MutiplyThreadTranscationManager</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setNickName</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•äº‹åŠ¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,103),j=[U];function G(F,L){return a(),s("div",null,j)}const H=n(P,[["render",G],["__file","springå£°æ˜å¼äº‹åŠ¡.html.vue"]]),J=JSON.parse('{"path":"/spring/spring-framework/spring%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1.html","title":"Springå£°æ˜å¼äº‹åŠ¡","lang":"zh-CN","frontmatter":{"description":"Springå£°æ˜å¼äº‹åŠ¡ äº”ç§å¤±æ•ˆæƒ…å†µ ç±»æ²¡æœ‰è¢« Spring ç®¡ç† æ–¹æ³•ä¸æ˜¯publicä¿®é¥° å¼‚å¸¸è¢«æ•è·ï¼ˆäº‹åŠ¡é»˜è®¤åªåœ¨æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•å†…éƒ¨è°ƒç”¨ æ–¹æ³•å†…éƒ¨ä½¿ç”¨this.xxx()çš„æ–¹å¼è°ƒç”¨äº‹åŠ¡å­˜åœ¨äº‹åŠ¡çš„æ–¹æ³•ï¼› å¤±æ•ˆçš„æœ¬è´¨æ˜¯ï¼ŒthisæŒ‡çš„çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œäº‹åŠ¡æ˜¯ç”±AOPä»£ç†æ¥å®ç°çš„ï¼Œå¤„ç†äº‹åŠ¡çš„å¢å¼ºæ–¹æ³•éƒ½æ˜¯åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå› ...","head":[["meta",{"property":"og:url","content":"https://glory-study-review.github.io/studynote/studynote/spring/spring-framework/spring%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"}],["meta",{"property":"og:site_name","content":"Gloryå­¦ä¹ ç¬”è®°"}],["meta",{"property":"og:title","content":"Springå£°æ˜å¼äº‹åŠ¡"}],["meta",{"property":"og:description","content":"Springå£°æ˜å¼äº‹åŠ¡ äº”ç§å¤±æ•ˆæƒ…å†µ ç±»æ²¡æœ‰è¢« Spring ç®¡ç† æ–¹æ³•ä¸æ˜¯publicä¿®é¥° å¼‚å¸¸è¢«æ•è·ï¼ˆäº‹åŠ¡é»˜è®¤åªåœ¨æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•å†…éƒ¨è°ƒç”¨ æ–¹æ³•å†…éƒ¨ä½¿ç”¨this.xxx()çš„æ–¹å¼è°ƒç”¨äº‹åŠ¡å­˜åœ¨äº‹åŠ¡çš„æ–¹æ³•ï¼› å¤±æ•ˆçš„æœ¬è´¨æ˜¯ï¼ŒthisæŒ‡çš„çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œäº‹åŠ¡æ˜¯ç”±AOPä»£ç†æ¥å®ç°çš„ï¼Œå¤„ç†äº‹åŠ¡çš„å¢å¼ºæ–¹æ³•éƒ½æ˜¯åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå› ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-09T13:35:23.000Z"}],["meta",{"property":"article:author","content":"Glory"}],["meta",{"property":"article:modified_time","content":"2024-07-09T13:35:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Springå£°æ˜å¼äº‹åŠ¡\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-09T13:35:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Glory\\"}]}"]]},"headers":[{"level":2,"title":"äº”ç§å¤±æ•ˆæƒ…å†µ","slug":"äº”ç§å¤±æ•ˆæƒ…å†µ","link":"#äº”ç§å¤±æ•ˆæƒ…å†µ","children":[]},{"level":2,"title":"ä¼ æ’­è¡Œä¸º","slug":"ä¼ æ’­è¡Œä¸º","link":"#ä¼ æ’­è¡Œä¸º","children":[]},{"level":2,"title":"Springäº‹åŠ¡æºç åˆ†æ","slug":"springäº‹åŠ¡æºç åˆ†æ","link":"#springäº‹åŠ¡æºç åˆ†æ","children":[]},{"level":2,"title":"å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†","slug":"å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†","link":"#å¤šçº¿ç¨‹ä¸‹äº‹åŠ¡çš„å¤„ç†","children":[]}],"git":{"createdTime":1715938956000,"updatedTime":1720532123000,"contributors":[{"name":"é»„ç°çº¢","email":"214521739@qq.com","commits":3},{"name":"Glory","email":"214521739@qq.com","commits":2}]},"readingTime":{"minutes":9.06,"words":2719},"filePathRelative":"spring/spring-framework/springå£°æ˜å¼äº‹åŠ¡.md","localizedDate":"2024å¹´5æœˆ17æ—¥","autoDesc":true,"excerpt":"\\n<h2>äº”ç§å¤±æ•ˆæƒ…å†µ</h2>\\n<ol>\\n<li>\\n<p>ç±»æ²¡æœ‰è¢« Spring ç®¡ç†</p>\\n</li>\\n<li>\\n<p>æ–¹æ³•ä¸æ˜¯publicä¿®é¥°</p>\\n</li>\\n<li>\\n<p>å¼‚å¸¸è¢«æ•è·ï¼ˆäº‹åŠ¡é»˜è®¤åªåœ¨æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼‰</p>\\n</li>\\n<li>\\n<p>åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•å†…éƒ¨è°ƒç”¨</p>\\n<p>æ–¹æ³•å†…éƒ¨ä½¿ç”¨this.xxx()çš„æ–¹å¼è°ƒç”¨äº‹åŠ¡å­˜åœ¨äº‹åŠ¡çš„æ–¹æ³•ï¼›\\nå¤±æ•ˆçš„æœ¬è´¨æ˜¯ï¼ŒthisæŒ‡çš„çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œäº‹åŠ¡æ˜¯ç”±AOPä»£ç†æ¥å®ç°çš„ï¼Œå¤„ç†äº‹åŠ¡çš„å¢å¼ºæ–¹æ³•éƒ½æ˜¯åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå› æ­¤ä½¿ç”¨thiså¯¹è±¡æœ¬èº«è°ƒç”¨æ–¹æ³•AOPä¼šå¤±æ•ˆã€‚\\nä¸ºä»€ä¹ˆthisæŒ‡çš„æ˜¯å¯¹è±¡æœ¬èº«è€Œä¸æ˜¯ä»£ç†å¯¹è±¡å‘¢ï¼ŒåŸå› ï¼Œä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ—¶ï¼Œå¢å¼ºæ–¹æ³•åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œè€ŒåŸå¯¹è±¡æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨åŸå¯¹è±¡æ¥è°ƒç”¨çš„ï¼Œç”±åŸå¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ä¸­ä½¿ç”¨thisï¼ŒæŒ‡å‘çš„å½“ç„¶æ—¶åŸå¯¹è±¡ã€‚\\nè§£å†³ï¼Œä¸ç”¨thisè°ƒç”¨æœ¬ç±»ä¸­çš„æ–¹æ³•ï¼Œä»å®¹å™¨ä¸­è·å–beanå†è°ƒç”¨</p>\\n</li>\\n<li>\\n<p>MySQLå­˜å‚¨å¼•è­¦ä¸æ”¯æŒäº‹åŠ¡</p>\\n</li>\\n</ol>"}');export{H as comp,J as data};
